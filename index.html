<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Budget</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
</head>
<body>

    <a href="jquery_calculation.html">To JQ</a>
<main class="container">
    <div class="container m-5">

        <div class="row">
            <div class="col col-md-6">
                What to average per day:

                <div class="mb-3">
                    <label for="steps_remaining" class="form-label">Steps Left in Kms</label>
                    <input type="number" class="form-control" id="steps_remaining">
                </div>
                <div class="mb-3">
                    <label for="days_remaining" class="form-label">Days Remaining - make sure value is dynamic</label>
                    <input type="number" class="form-control" id="days_remaining" name="days_remaining">
                </div>
                <input type="button" class="btn btn-primary" value="Calculate" id="button" />
            </div>
            <div class="col col-md-6">
                <div class="m-3 col-md-12">
                    Days to goal:
                    <strong>
                     <div id="days_to_goal"></div>   
                    </strong>
                </div>                
                <div class="m-3 col-md-12" class="incognito">
                    Average Distance per day <strong>
                        <div id="average_distance"></div> Kms
                    </strong>
                </div>
            </div>

        </div>

    </div>
</main>

<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js" integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V" crossorigin="anonymous"></script>

<script type="text/javascript">    
    let steps_remaining = document.getElementById('steps_remaining');
    let days_remaining = document.getElementById('days_remaining');
    let average_distance = document.getElementById('average_distance');
    
    document.getElementById('button').addEventListener('click', () => {

        average_distance.innerHTML = daily_distance(steps_remaining.valueAsNumber, days_remaining
            .valueAsNumber);

    });


    function daily_distance(steps, days) {
        return roundToTwo(steps / days);
    }

    function roundToTwo(num) {
        return +(Math.round(num + "e+2") + "e-2");
    }

    // Function to calculate days remaining
    function calculateDaysRemaining() {
        
        const targetDate = new Date('2025-12-31');        
        const currentDate = new Date();

        //time difference in milliseconds
        const timeDifference = targetDate - currentDate;        
        const daysRemaining = Math.ceil(timeDifference / (1000 * 60 * 60 * 24));       

        // Set the input values
        const remainingDaysInput = document.getElementById('days_remaining');
        const daysToGoal = document.getElementById('days_to_goal');
        remainingDaysInput.value = daysRemaining;
        daysToGoal.innerHTML = `<h3> ${daysRemaining} </h3>`
        
    }
    // Call the calculateDaysRemaining function when the page loads
    window.onload = calculateDaysRemaining;

</script>
</body>
</html>






    





